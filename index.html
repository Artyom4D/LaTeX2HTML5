<html>
    <head>
        <link href="https://fonts.googleapis.com/css?family=Arbutus+Slab" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="index.css">

        <script type="text/x-mathjax-config">
            // <![CDATA[
            MathJax.Hub.Config({ 
                TeX: {extensions: ["AMSmath.js", "AMSsymbols.js"]},     
                extensions: ["tex2jax.js"],
                jax: ["input/TeX", "output/HTML-CSS"],
                showProcessingMessages : false,
                messageStyle : "none" ,    
                showMathMenu: false ,
                tex2jax: {
                    processEnvironments: true,
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    preview : "none",
                    processEscapes: true
                },
                "HTML-CSS": { linebreaks: { automatic:true, width: "container"} }
            });
            // ]]>
        </script>

        <!-- math -->
        <script type="text/javascript"
        src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>

        <!-- vendor -->
        <script type="text/javascript"
            src="latex2html5/vendor/jquery.js"></script>
        <script type="text/javascript"
            src="latex2html5/vendor/d3.js"></script>
        <script type="text/javascript"
            src="latex2html5/vendor/underscore.js"></script>
        <script type="text/javascript"
            src="latex2html5/vendor/handlebars.js"></script>
        <script type="text/javascript"
            src="latex2html5/vendor/backbone.js"></script>

        <!-- library -->
        <script type="text/javascript"
            src="latex2html5/lib/expressions.js"></script>
        <script type="text/javascript"
            src="latex2html5/lib/parse.js"></script>
        <script type="text/javascript"
            src="latex2html5/lib/psgraph.js"></script>

        <!-- views -->
        <script type="text/javascript"
            src="latex2html5/views/renderer.js"></script>



    </head>



    <body>

        <script type="latex">
\begin{pspicture}(-5,-5)(5,5)
\rput(0.3,3.75){ $Im$ }
\psline{->}(0,-3.75)(0,3.75)
\rput(3.75,0.3){ $Re$ }
\psline{->}(-3.75,0)(3.75,0)
\pscircle(0,0){ 3 }
\rput(2.3,1){$e^{i\omega}-\alpha$}
\userline[linewidth=1.5 pt]{->}(1.500,0.000)(2.121,2.121)
\userline[linewidth=1.5 pt,linecolor=blue]{->}(0,0.000)(2.121,2.121){(x>0) ? 3 * cos( atan(-y/x) ) : -3 * cos( atan(-y/x) ) }{ (x>0) ? -3 * sin( atan(-y/x) ) : 3 * sin( atan(-y/x) )}
\userline[linewidth=1.5 pt,linestyle=dashed](-1.500,0.000)(2.121,2.121){x}{0}{x}{y}
\userline[linewidth=1.5 pt,linestyle=dashed](-1.500,0.000)(2.121,2.121){0}{y}{x}{y}
\rput(-0.75,-4.25){$1+\alpha$}
\rput(2.25,-4.25){$1-\alpha$}
\psline{<->}(-3,-4)(1.5,-4)
\psline{<->}(1.5,-4)(3,-4)
\psline[linestyle=dashed](3,-4.5)(3,0)
\psline[linestyle=dashed](-3,-4.5)(-3,0)
\psline[linestyle=dashed](1.5,-4.5)(1.5,0)
\end{pspicture}
        </script>

        <div class="container">

        </div>

        <script>
            var parser = new Parser();
            var objects = parser.parse($('[type="latex"]').text());
            // var TEX = new TeX({
            //     latex: objects
            // });

            // // $('.container').html(TEX.el);
            // TEX.render();


            _.each(objects, function(element) {

                if (! element.hasOwnProperty('type')) {
                    throw new Error('no type!');
                }

                var view = _.any(views, function (view, hash) {
                    if (element.type == hash) {
                        var fn = views[hash];

                        if (_.isFunction(fn)) {
                            var v = new fn({content: element});
                            v.render();
                            $('.container').append(v.el);
                            return v;
                        }
                    }
                });


            }, this);

        </script>
        

    </body>
</html>
